<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Entregaa grupo13 testing</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2022-05-02T23:40:58-04:00">2022-05-02T23:40:58-04:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="green">
  97.6%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         123.73
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>125</b> relevant lines,
    <span class="green"><b>122</b> lines covered</span> and
    <span class="red"><b>3</b> lines missed. </span>
    (<span class="green">
  97.6%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f28a71316eed8bf0fda431e0a85b293015eac308" class="src_link" title="naval_models.rb">naval_models.rb</a></td>
            <td class="green strong cell--number t-file__coverage">97.60 %</td>
            <td class="cell--number">208</td>
            <td class="cell--number">125</td>
            <td class="cell--number">122</td>
            <td class="cell--number">3</td>
            <td class="cell--number">123.73</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.21.2
        and simplecov-html v0.12.3<br/>
        using Unit Tests
      </div>

      <div class="source_files">
      
        <div class="source_table" id="f28a71316eed8bf0fda431e0a85b293015eac308">
  <div class="header">
    <h3>naval_models.rb</h3>
    <h4>
      <span class="green">
  97.6%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>125</b> relevant lines.
      <span class="green"><b>122</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Creacion de juego #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(diff)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="6">
            <span class="hits">6</span>
            

            

            <code class="ruby">    @difficulty = diff</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="7">
            <span class="hits">6</span>
            

            

            <code class="ruby">    board_create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def board_create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="11">
            <span class="hits">6</span>
            

            

            <code class="ruby">    @board1 = Board.new(@difficulty[&#39;size&#39;], @difficulty[&#39;ships&#39;])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="12">
            <span class="hits">6</span>
            

            

            <code class="ruby">    @board2 = Board.new(@difficulty[&#39;size&#39;], @difficulty[&#39;ships&#39;])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :board1, :board2, :difficulty</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"># Creacion bloque #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Block</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(position)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="21">
            <span class="hits">1200</span>
            

            

            <code class="ruby">    @position = position</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="22">
            <span class="hits">1200</span>
            

            

            <code class="ruby">    @shot = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="23">
            <span class="hits">1200</span>
            

            

            <code class="ruby">    @isship = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="24">
            <span class="hits">1200</span>
            

            

            <code class="ruby">    @shipId = &#39;NaN&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :position, :isship, :shot, :shipId</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">public</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">def convert_to_ship(shipId)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="39" data-linenumber="32">
            <span class="hits">39</span>
            

            

            <code class="ruby">  @isship = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="39" data-linenumber="33">
            <span class="hits">39</span>
            

            

            <code class="ruby">  @shipId = shipId</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">public</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">def gets_shoot</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="167" data-linenumber="39">
            <span class="hits">167</span>
            

            

            <code class="ruby">  @shot = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"># Creacion tablero #</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Board</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(size, ships_number)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="45">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @size = size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="46">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @ships_number = ships_number</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="47">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @cells = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="48">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @ships = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="49">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @toletters = { 0 =&gt; &#39;A&#39;, 1 =&gt; &#39;B&#39;, 2 =&gt; &#39;C&#39;, 3 =&gt; &#39;D&#39;, 4 =&gt; &#39;E&#39;, 5 =&gt; &#39;F&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">                   6 =&gt; &#39;G&#39;, 7 =&gt; &#39;H&#39;, 8 =&gt; &#39;I&#39;, 9 =&gt; &#39;J&#39;, 10 =&gt; &#39;K&#39;, 11 =&gt; &#39;L&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">                   12 =&gt; &#39;M&#39;, 13 =&gt; &#39;N&#39;, 14 =&gt; &#39;O&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="52">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @tonumbers = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="53">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @toletters.each do |key, value|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="180" data-linenumber="54">
            <span class="hits">180</span>
            

            

            <code class="ruby">      @tonumbers[value] = key</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="56">
            <span class="hits">12</span>
            

            

            <code class="ruby">    @blocks_to_shoot = if size == 10</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">                         # Si alguno de estos atributos llega a 0 el juego termina con el oponente ganando</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">                         # 5 boats</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="60">
            <span class="hits">12</span>
            

            

            <code class="ruby">                         15</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">                       else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">                         # 8 boats</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">                         24</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">                       end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="66">
            <span class="hits">12</span>
            

            

            <code class="ruby">    cells_create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :blocks_to_shoot</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  # Ayuda a crear bloques en el inicio del juego</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def cells_create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="72">
            <span class="hits">12</span>
            

            

            <code class="ruby">    i = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="73">
            <span class="hits">12</span>
            

            

            <code class="ruby">    while i &lt; @size</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="74">
            <span class="hits">120</span>
            

            

            <code class="ruby">      j = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="75">
            <span class="hits">120</span>
            

            

            <code class="ruby">      temp = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="76">
            <span class="hits">120</span>
            

            

            <code class="ruby">      while j &lt; @size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">        # Lo traducimos a index Letrado</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="78">
            <span class="hits">1200</span>
            

            

            <code class="ruby">        lettered_index = @toletters[i]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="79">
            <span class="hits">1200</span>
            

            

            <code class="ruby">        block = Block.new([lettered_index, j])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="80">
            <span class="hits">1200</span>
            

            

            <code class="ruby">        temp.append(block)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1200" data-linenumber="81">
            <span class="hits">1200</span>
            

            

            <code class="ruby">        j += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="83">
            <span class="hits">120</span>
            

            

            <code class="ruby">      @cells.append(temp)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="120" data-linenumber="84">
            <span class="hits">120</span>
            

            

            <code class="ruby">      i += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  # Si retorna true, el jugado de esta tabla ha perdido.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lost_board</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">    return true if @blocks_to_shoot.zero?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="91">
            
            

            

            <code class="ruby">  return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  # Inserta el barco de ser posible, en la posición indicada, orientación y tamaño</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def insert_ship(position, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="22" data-linenumber="96">
            <span class="hits">22</span>
            

            

            <code class="ruby">    if verify_insertion(position, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="97">
            <span class="hits">13</span>
            

            

            <code class="ruby">      puts format(&#39;Insertando un barco en %s en orientacion %s&#39;, position, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="98">
            <span class="hits">13</span>
            

            

            <code class="ruby">      index_i = @tonumbers[position[0]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="99">
            <span class="hits">13</span>
            

            

            <code class="ruby">      index_j = position[1].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="100">
            <span class="hits">13</span>
            

            

            <code class="ruby">      ship_blocks = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="101">
            <span class="hits">13</span>
            

            

            <code class="ruby">      if orientation == &#39;horizontal&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="102">
            <span class="hits">7</span>
            

            

            <code class="ruby">        (0..2).each do |n|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="103">
            <span class="hits">21</span>
            

            

            <code class="ruby">          @cells[index_i - 1 + n][index_j].convert_to_ship(position)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="104">
            <span class="hits">21</span>
            

            

            <code class="ruby">          ship_blocks.append([index_i - 1 + n, index_j])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="107">
            <span class="hits">6</span>
            

            

            <code class="ruby">        (0..2).each do |n|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="108">
            <span class="hits">18</span>
            

            

            <code class="ruby">          @cells[index_i][index_j - 1 + n].convert_to_ship(position)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="109">
            <span class="hits">18</span>
            

            

            <code class="ruby">          block_index = [index_i, index_j  - 1 + n]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="110">
            <span class="hits">18</span>
            

            

            <code class="ruby">          ship_blocks.append(block_index)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="113">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @ships.append(ship_blocks)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="114">
            <span class="hits">13</span>
            

            

            <code class="ruby">      return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="116">
            <span class="hits">9</span>
            

            

            <code class="ruby">    return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">  # Verifica que el barco pueda ser insertado en el lugar propuesto</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def verify_insertion(position, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="121">
            <span class="hits">28</span>
            

            

            <code class="ruby">    index_i = @tonumbers[position[0]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="122">
            <span class="hits">28</span>
            

            

            <code class="ruby">    index_j = position[1].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="123">
            <span class="hits">28</span>
            

            

            <code class="ruby">    if orientation == &#39;horizontal&#39; &amp;&amp; (index_i &lt; 1 || index_i &gt; @size - 2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="124">
            <span class="hits">5</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="126">
            <span class="hits">23</span>
            

            

            <code class="ruby">    elsif orientation == &#39;vertical&#39; &amp;&amp; (index_j &lt; 1 || index_j &gt; @size - 2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="127">
            <span class="hits">4</span>
            

            

            <code class="ruby">      return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="130">
            <span class="hits">19</span>
            

            

            <code class="ruby">    if orientation == &#39;horizontal&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="131">
            <span class="hits">10</span>
            

            

            <code class="ruby">      j_array = [@cells[index_i - 1][index_j].isship, @cells[index_i][index_j].isship,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">                 @cells[index_i + 1][index_j].isship]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="134">
            <span class="hits">10</span>
            

            

            <code class="ruby">      if j_array[0] || j_array[1] || j_array[2]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="138">
            <span class="hits">9</span>
            

            

            <code class="ruby">    elsif orientation == &#39;vertical&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="139">
            <span class="hits">9</span>
            

            

            <code class="ruby">      i_array = [@cells[index_i][index_j - 1].isship, @cells[index_i][index_j].isship,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">      @cells[index_i][index_j + 1].isship]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="141">
            <span class="hits">9</span>
            

            

            <code class="ruby">      if i_array[0] || i_array[1] || i_array[2]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="146">
            <span class="hits">18</span>
            

            

            <code class="ruby">    return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">  # simply shoots a block</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="150">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def shoot_block(position)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="167" data-linenumber="151">
            <span class="hits">167</span>
            

            

            <code class="ruby">    index_i = @tonumbers[position[0]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="167" data-linenumber="152">
            <span class="hits">167</span>
            

            

            <code class="ruby">    index_j = position[1].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="167" data-linenumber="153">
            <span class="hits">167</span>
            

            

            <code class="ruby">    if @cells[index_i][index_j].isship &amp;&amp; @cells[index_i][index_j].shot == false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="154">
            <span class="hits">15</span>
            

            

            <code class="ruby">      @blocks_to_shoot -= 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="155">
            <span class="hits">15</span>
            

            

            <code class="ruby">      @cells[index_i][index_j].gets_shoot</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="156">
            <span class="hits">15</span>
            

            

            <code class="ruby">      shipId = @cells[index_i][index_j].shipId</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="157">
            <span class="hits">15</span>
            

            

            <code class="ruby">      puts format(&#39;Ha dado con una seccion de barco en %s !&#39;, position)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="158">
            <span class="hits">15</span>
            

            

            <code class="ruby">      sinked_ship_check(shipId)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="159">
            <span class="hits">15</span>
            

            

            <code class="ruby">      return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="152" data-linenumber="161">
            <span class="hits">152</span>
            

            

            <code class="ruby">    @cells[index_i][index_j].gets_shoot</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="152" data-linenumber="162">
            <span class="hits">152</span>
            

            

            <code class="ruby">    puts &#39;El tiro no ha dado en un barco&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="152" data-linenumber="163">
            <span class="hits">152</span>
            

            

            <code class="ruby">    return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">  # Checks for sinked ship.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def sinked_ship_check(shipId)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="168">
            <span class="hits">15</span>
            

            

            <code class="ruby">    sinkedBlocks = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="169">
            <span class="hits">15</span>
            

            

            <code class="ruby">    @cells.each do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="125" data-linenumber="170">
            <span class="hits">125</span>
            

            

            <code class="ruby">      row.each do |block|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1222" data-linenumber="171">
            <span class="hits">1222</span>
            

            

            <code class="ruby">        if block.shot &amp;&amp; block.shipId == shipId</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="172">
            <span class="hits">30</span>
            

            

            <code class="ruby">          sinkedBlocks += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1222" data-linenumber="174">
            <span class="hits">1222</span>
            

            

            <code class="ruby">        if sinkedBlocks == 3</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="175">
            <span class="hits">5</span>
            

            

            <code class="ruby">          puts &#39;Has hundido un barco con centro en &#39; + shipId</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="176">
            <span class="hits">5</span>
            

            

            <code class="ruby">          return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">  # Inserts a random ship</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="183">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def random_insertion(n)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">    inserted = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">    while inserted &lt; n </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="186">
            <span class="hits">6</span>
            

            

            <code class="ruby">      orientation = &#39;horizontal&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="187">
            <span class="hits">6</span>
            

            

            <code class="ruby">      index_i = @toletters[rand(1..@size - 2)]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="188">
            <span class="hits">6</span>
            

            

            <code class="ruby">      index_j = rand(0..@size - 1).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="189">
            <span class="hits">6</span>
            

            

            <code class="ruby">      if rand(0..1) == 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="190">
            <span class="hits">3</span>
            

            

            <code class="ruby">        orientation = &#39;vertical&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="191">
            <span class="hits">3</span>
            

            

            <code class="ruby">        index_i = @toletters[rand(0..@size - 1)]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="192">
            <span class="hits">3</span>
            

            

            <code class="ruby">        index_j = rand(1..@size - 2).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="194">
            <span class="hits">6</span>
            

            

            <code class="ruby">      if verify_insertion(index_i + index_j, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="195">
            <span class="hits">5</span>
            

            

            <code class="ruby">        insert_ship(index_i + index_j, orientation)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="196">
            <span class="hits">5</span>
            

            

            <code class="ruby">        inserted += 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def random_shot</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="160" data-linenumber="202">
            <span class="hits">160</span>
            

            

            <code class="ruby">    index_i = @toletters[rand(0..@size - 1)]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="160" data-linenumber="203">
            <span class="hits">160</span>
            

            

            <code class="ruby">    index_j = rand(0..@size - 1).to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="160" data-linenumber="204">
            <span class="hits">160</span>
            

            

            <code class="ruby">    shoot_block(index_i + index_j)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="207">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :cells, :ships</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
